@model DataResult<NewsListDto>

@{
	ViewData["Title"] = "Index";
}
<ol class="breadcrumb mb-3 mt-2">
	<li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Home" asp-action="Index">Admin</a></li>
	<li class="breadcrumb-item active"><a asp-area="Admin" asp-controller="News" asp-action="Index">News</a></li>
</ol>

<div id="modalPlaceHolder" aria-hidden="true"></div>
<div class="card mt-2">
	<div class="card-header">
		<i class="fas fa-table mr-1"></i>
		Haberler
	</div>
	<div class="card-body">

		<div class="table-responsive">
			<div>
				<a asp-area="Admin" asp-controller="News" asp-action="Create" class="btn btn-success">Haber Ekle</a>
			</div>
			<table class="table table-bordered display" id="newsTable" width="100%" cellspacing="0">
				<thead>
					<tr>

						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Title)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().SubTitle)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Content)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().User)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Category)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().ImagePath)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().CreatedAt)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().UpdatedAt)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().IsDeleted)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().IsActive)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().CreatedByName)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().ModifiedByName)
						</th>
						<th>İşlemler</th>

					</tr>
				</thead>

				<tbody>
					@foreach (var item in Model.Data.News)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.Title)
							</td>
							<td>
								@item.SubTitle.Substring(0,20) ...
							</td>
							<td>
								@item.Content.Substring(0,20) ...
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.User.UserName)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Category.Name)
							</td>
							<td><img src="~/img/news/@item.ImagePath" class="image-style" /></td>
							<td>
								@Html.DisplayFor(modelItem => item.CreatedAt)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.UpdatedAt)
							</td>
							<td>@(item.IsDeleted ? "Yes" : "No")</td>
							<td>@(item.IsActive ? "Yes" : "No")</td>
							<td>
								@Html.DisplayFor(modelItem => item.CreatedByName)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.ModifiedByName)
							</td>
							<td class="text-center text-nowrap">
								<a class="btn btn-primary btn-sm " asp-area="Admin" asp-controller="News" asp-action="Edit" asp-route-newsId="@item.Id"><span class="fas fa-edit"></span></a>
								<a class="btn btn-danger btn-sm " asp-area="Admin" asp-controller="News" asp-action="Delete" asp-route-newsId="@item.Id"><span class="fas fa-minus-circle"></span></a>
								<a class="btn btn-success btn-sm " asp-area="Admin" asp-controller="News" asp-action="Detail" asp-route-newsId="@item.Id"><span class="fas fa-newspaper"></span></a>
							</td>
						</tr>
					}
				</tbody>
				<tfoot>

					<tr>

						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Title)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().SubTitle)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Content)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().User)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().Category)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().ImagePath)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().CreatedAt)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().UpdatedAt)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().IsDeleted)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().IsActive)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().CreatedByName)
						</th>
						<th>
							@Html.DisplayNameFor(model => model.Data.News.First().ModifiedByName)
						</th>
						<th>İşlemler</th>

					</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>
@section Scripts{
	<script src="~/admintema/js/newsIndex.js" type="text/javascript"></script>
}
